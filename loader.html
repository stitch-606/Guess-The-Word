<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Loadingâ€¦</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="loading-container" id="loadingContainer" aria-hidden="false">
      <canvas id="scene" class="loader-canvas" width="500" height="500" aria-hidden="true"></canvas>
      <div class="loading-text">HAPPY NEW YEAR</div>
    </div>

    <script src="loader.js"></script>
    <script>
      // Start the loader animation for this standalone page
      if (window.Loader && typeof Loader.start === 'function') Loader.start();

      // 4 seconds in milliseconds
      var redirectDelay = 4 * 1000; // 4000 ms

      function finish() {
        if (window.Loader && typeof Loader.stop === 'function') Loader.stop();
        // Set a short-lived session flag so index.html knows this navigation came from the loader
        try { sessionStorage.setItem('skipLoaderOnce', '1'); } catch (e) {}
        // Navigate to the game page without persistent query params
        window.location.href = 'index.html';
      }

      // Redirect after the delay
      var t = setTimeout(finish, redirectDelay);
    </script>
  </body>
</html>
